<div class="banner-jb" style="background-image: linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.4)), url(<%= asset_path("background-banner.jpg") %>);">
  <div class="container-jb" id="container-banner-jb">
    <h1><%= @aircraft.name.capitalize %></h1>


    <div class="boton-avion-jb">
      <p><%= link_to "Book now", new_aircraft_booking_path(@aircraft), class: "btn btn-light mt-5" %></p>
    </div>
  </div>
</div>
<div class="">
  <div class="d-flex justify-content-center">
    <div class="container row">


      <div class="card-details-jb my-5 col-8 ">
        <div class="card-product-details-jb d-flex py-0">
          <div>
          <% if @aircraft.photos.last != nil %>
            <%= cl_image_tag(@aircraft.photos.last.key, :width=>300) %>
          <% end %>
          </div>
          <div class="row ps-3 pt-2">
            <h4><%= @aircraft.name.capitalize %></h4>
            <p><em><%= @aircraft.description.capitalize %></em></p>
            <p><%= "Available Seats: #{@aircraft.seats}" %></p>
            <p><%= "USD #{@aircraft.price}" %></p>
          </div>
        </div>
        <div class="my-5">
          <h2>More pictures about this Aircraft</h2>
          <div class=" row my-5">
            <% @aircraft.photos.each do |photo| %>
              <div class="col-3">
                <%= cl_image_tag(photo.key, :width=>300) %>
              </div>
            <% end %>
          </div>
        </div>
      </div>
      <div class="col-4">
        <div class="mt-5 card p-3 rounded-4">
          <%= form_with model: [@aircraft, @booking], data: { controller: "price-updater" }, method: :post, name: "booking" do |form| %>
            <div class=" m-1">
              <label for="start_time">Start time / Travel day</label>
              <%= form.date_field :start_time, data: { target: "price-updater.startTime", action: "price-updater#changePrice" }, class: "form-control", placeholder: "Start Time", value: params[:start_time]   %>
            </div>
            <div class=" m-1">
              <label for="finish_time">Finish time</label>
              <%= form.date_field :finish_time, data: { target: "price-updater.finishTime", action: "price-updater#changePrice" }, class: "form-control", placeholder: "Finish Time", value: params[:finish_time] %>
            </div>
            <div class=" m-1">
              <label for="finish_time" class="mt-5">Form:</label>
              <%= form.select_tag :start_location, options_for_select(@airports.map { |location| [location.name, location.code] }), class: "form-control", placeholder: "from"%>
            </div>
            <div class=" m-1">
              <label for="finish_time">to: </label>
              <%= form.date_field :finish_time, data: { target: "price-updater.finishTime", action: "price-updater#changePrice" }, class: "form-control", placeholder: "Finish Time", value: params[:finish_time] %>
            </div>
              <div class="d-flex justify-content-between align-items-end mt-5">
                <% if user_signed_in? %>
                  <% if current_user.client? %>
                    <div class="col-1 m-1 mt-4">
                      <%= form.submit "Submit Booking", class: "btn btn-dark" %>
                    </div>
                  <% end %>
                <% end %>
                <div class="d-flex align-items-center">
                  <span data-target="price-updater.price" data-price="<%=@aircraft.price%>"></span>
                  <p class=" align-items-center"><p data-price-updater-target="output"></p></p>
                </div>
              </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
<%#= cl_image_tag(@aircraft.photos.first.key, height: 300, width: 300) %>
